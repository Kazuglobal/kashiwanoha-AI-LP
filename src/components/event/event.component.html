<section id="program" class="workshop-process py-16 md:py-24 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12 max-w-3xl mx-auto">
      <h2 appScrollAnimation class="font-poppins font-black text-3xl md:text-5xl">
        <span class="gradient-text">PROGRAM</span><br>
        <span class="text-2xl md:text-4xl text-black">ワークショップの流れ</span>
      </h2>
      <p class="mt-4 text-gray-600 text-sm md:text-base">
        学習の旅を4つのステップで体験。オリエンテーションから成果発表まで、立体的な成長の階段として可視化しています。
      </p>
    </div>

    <ol class="steps-grid" role="list">
      @for (step of programSteps(); track step.id; let index = $index; let last = $last) {
        @let next = !last ? programSteps()[index + 1] : null;
        <li
          appScrollAnimation
          [staggerIndex]="index"
          class="step-card"
          role="listitem"
          [attr.aria-label]="step.ariaLabel"
          [style.--step-gradient-from]="step.gradientFrom"
          [style.--step-gradient-to]="step.gradientTo"
          [style.--step-accent]="step.accentColor"
          [style.--arrow-start]="step.gradientTo"
          [style.--arrow-end]="next?.gradientFrom ?? step.gradientTo"
        >
          <div class="step-card__inner">
            <div class="step-card__badge" aria-hidden="true">
              <span>{{ step.id }}</span>
            </div>

            <div class="step-card__illustration" role="img" [attr.aria-label]="step.iconLabel">
              @switch (step.illustration) {
                @case ('orientation') {
                  <div class="iso map"></div>
                  <div class="iso map-fold"></div>
                  <div class="compass">
                    <span class="compass-needle"></span>
                  </div>
                }
                @case ('ideation') {
                  <div class="iso board"></div>
                  <span class="sticky sticky-1"></span>
                  <span class="sticky sticky-2"></span>
                  <span class="sticky sticky-3"></span>
                  <span class="sticky sticky-4"></span>
                  <span class="sticky sticky-5"></span>
                  <div class="bulb">
                    <span class="bulb-core"></span>
                    <span class="bulb-ray ray-1"></span>
                    <span class="bulb-ray ray-2"></span>
                    <span class="bulb-ray ray-3"></span>
                  </div>
                  <div class="avatar avatar-1"></div>
                  <div class="avatar avatar-2"></div>
                  <div class="avatar avatar-3"></div>
                }
                @case ('development') {
                  <div class="iso device"></div>
                  <div class="code-block block-1"></div>
                  <div class="code-block block-2"></div>
                  <div class="code-block block-3"></div>
                  <div class="mentor-chip"></div>
                  <div class="checkmark"></div>
                }
                @case ('showcase') {
                  <div class="iso stage"></div>
                  <div class="iso screen"></div>
                  <div class="trophy"></div>
                }
              }
            </div>

            <h3 class="step-card__title">{{ step.title }}</h3>
            <p class="step-card__description">
              {{ step.description }}
            </p>

          </div>
        </li>
      }
    </ol>
  </div>
</section>
